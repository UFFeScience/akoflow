name: akf-wf-singularity
spec:
  runtime: "singularity"
  image: "/home/ovvesley/Workspace/singularity/sifs/ubuntu-minimal.sif"
  storagePolicy:
    type: default

  mountPath: "/data-akoflow"
  activities:
    - name: step01
      image: "/home/ovvesley/Workspace/singularity/sifs/ubuntu-minimal.sif"
      run: |
        for i in $(seq 1 300); do
          echo "now is $(date)" >> step01.txt
          sleep 1
        done   
      memoryLimit: 1G
      cpuLimit: 1

    - name: step02
      image: "/home/ovvesley/Workspace/singularity/sifs/ubuntu-minimal.sif"
      run: |
        for i in $(seq 1 300); do
          echo "now is $(date)" >> step02.txt
          sleep 1
        done 
      memoryLimit: 1G
      cpuLimit: 1
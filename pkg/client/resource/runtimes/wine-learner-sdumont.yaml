name: akf-wine-sdumont
spec:
  runtime: "sdumont"

  runtimeSettings:
    gateway: 

  image: "/scratch/aidexl/wesley.ferreira/akf-wine/sifs/learner_wine.sif"
  storagePolicy:
    type: default

  workflowVolume:
    - /data-workflow/akf-wine/sifs/:/scratch/aidexl/wesley.ferreira/akf-wine/sifs
    - /data-workflow/akf-wine/akf-wine-sdumont:/scratch/aidexl/wesley.ferreira/akf-wine

  mountPath: "/scratch/aidexl/wesley.ferreira/akf-wine/akf-wine-singularity"

  activities:
    - name: wine001
      run: |
        echo "Running wine001"
        conda run -n tutorial mlflow run .  --env-manager=local
      memoryLimit: 1024M
      cpuLimit: 1